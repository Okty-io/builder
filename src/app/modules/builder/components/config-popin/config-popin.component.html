<div class="popin">
  <div class="header">
    <p class="title">Add an element</p>
    <fa-icon [icon]="faExit" (click)="this.handleClose()"></fa-icon>
  </div>
  <hr>
  <div class="body">
    <form (submit)="handleSubmit($event)" [formGroup]="formGroup">
      <div class="general">

        <app-builder-popin-input [control]="labelControl" [label]="'Input title'" [error]="'This field is required'">
        </app-builder-popin-input>

        <app-builder-popin-select [control]="destinationControl" [label]="'Destination'"
                                  [error]="'This field is required'" [options]="destinationOptions"
                                  (valueChanged)="resetCustomData()">
        </app-builder-popin-select>
      </div>

      <app-builder-config-popin-destination-id *ngIf="destinationControl.value == 'id'"
                                               [form]="customGroup"
                                               [field]="field">
      </app-builder-config-popin-destination-id>

      <app-builder-config-popin-destination-version *ngIf="destinationControl.value == 'version'"
                                                    [form]="customGroup"
                                                    [field]="field">
      </app-builder-config-popin-destination-version>

      <app-builder-config-popin-destination-docker-compose *ngIf="destinationControl.value == 'compose'"
                                                           [form]="customGroup"
                                                           [field]="field">
      </app-builder-config-popin-destination-docker-compose>

      <app-builder-config-popin-destination-volumes *ngIf="destinationControl.value == 'volumes'"
                                                    [form]="customGroup"
                                                    [field]="field">
      </app-builder-config-popin-destination-volumes>

      <app-builder-config-popin-destination-ports *ngIf="destinationControl.value == 'ports'"
                                                  [form]="customGroup"
                                                  [field]="field">
      </app-builder-config-popin-destination-ports>

      <app-builder-config-popin-destination-environments *ngIf="destinationControl.value == 'environments'"
                                                         [form]="customGroup"
                                                         [field]="field">
      </app-builder-config-popin-destination-environments>

      <button class="save-button" [disabled]="formGroup.invalid">Save</button>
    </form>
  </div>
</div>
